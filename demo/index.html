<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Simultaneous Translator WebSocket</title>
    <link rel="stylesheet" href="styles.css" />
</head>
<body>
    <!-- Email Collection Popup -->
    <div id="emailModal" class="email-modal">
        <div class="email-modal-overlay"></div>
        <div class="email-modal-content">
            <button class="email-modal-close" id="emailModalClose">Ã—</button>
            <div class="email-modal-header">
                <h2>Stay Updated! ðŸ“§</h2>
                <p>Get notified about my latest blog posts and translation tools updates</p>
            </div>
            <form id="emailForm" class="email-form">
                <div class="email-input-group">
                    <input 
                        type="email" 
                        id="emailInput" 
                        placeholder="Enter your email address"
                        required
                    >
                </div>
                <button type="submit" class="email-submit-btn">Subscribe</button>
                <p class="email-disclaimer">We respect your privacy. Unsubscribe at any time.</p>
            </form>
        </div>
    </div>

    <h1 class="title">SIMULTANEOUS TRANSLATION</h1>
    <!-- <div id="mobileWarning" style="display:none; margin: 12px auto; max-width: 920px; padding: 12px 16px; background: #fff3cd; color: #664d03; border: 1px solid #ffecb5; border-radius: 8px; font-size: 14px;">
        Simul-translator demo is not supported on mobile devices. Please use a desktop computer.
    </div> -->
    <div class="layout-container">
    <div id="appCard">
    <!-- <div>
        <label for="wsUrlInput">WebSocket URL:</label>
        <input type="text" id="wsUrlInput" value="https://simul-translator-11820398872.us-central1.run.app">
    </div> -->
    <div>
        <label for="sourceLangSelect">Source Language:</label>
        <select id="sourceLangSelect">
            <option value="">Auto Detect</option>
            <option value="EN">English</option>
            <option value="EN-GB">English (UK)</option>
            <option value="JA">Japanese</option>
            <option value="ZH">Chinese (Mandarin)</option>
            <option value="ES">Spanish</option>
            <option value="FR">French</option>
            <option value="HI">Hindi</option>
            <option value="IT">Italian</option>
            <option value="PT-BR">Portuguese (Brazil)</option>
        </select>
    </div>
    <div>
        <label for="targetLangSelect">Target Language:</label>
        <select id="targetLangSelect" required>
            <option value="EN">English</option>
            <option value="EN-GB">English (UK)</option>
            <option value="JA">Japanese</option>
            <option value="ZH">Chinese (Mandarin)</option>
            <option value="ES">Spanish</option>
            <option value="FR">French</option>
            <option value="HI">Hindi</option>
            <option value="IT">Italian</option>
            <option value="PT-BR">Portuguese (Brazil)</option>
        </select>
    </div>
    <button id="toggleMoreButton" class="toggle-more">More Parameters</button>
    <fieldset id="moreParamsSection" class="hidden">
        <legend>More Parameters</legend>
        <div>
            <label for="translationProviderSelect">Translation Provider:</label>
            <select id="translationProviderSelect">
                <option value="groq" selected>Groq</option>
                <option value="deepl">DeepL</option>
            </select>
        </div>
        <div>
            <label for="voiceGenderSelect">TTS Voice Gender:</label>
            <select id="voiceGenderSelect">
                <option value="male" selected>Male</option>
                <option value="female">Female</option>
            </select>
        </div>
        <div>
            <label for="thresholdInput">VAD Threshold:</label>
            <input type="number" id="thresholdInput" step="0.01" min="0" max="1" placeholder="0.85" value="0.85">
        </div>
        <div>
            <label for="silenceDurationInput">Silence Duration (ms):</label>
            <input type="number" id="silenceDurationInput" placeholder="600" value="600">
        </div>
        <div>
            <label for="prefixPaddingInput">Prefix Padding (ms):</label>
            <input type="number" id="prefixPaddingInput" placeholder="1000" value="1000">
        </div>
    </fieldset>
    <button id="connectButton">Connect</button>
    <div id="waveSection">
        <p id="statusLabel">Waiting...</p>
    </div>
    <audio id="audioPlayer" autoplay="true"></audio>
    </div> <!-- end #appCard -->
    <div id="resultsContainer" class="results-container">
        <div class="result-section">
            <div class="result-label">Transcript</div>
            <p id="transcriptDisplay" class="result-text"></p>
        </div>
        <div class="result-section">
            <div class="result-label">Translation</div>
            <p id="translationDisplay" class="result-text"></p>
        </div>
    </div>
    </div> <!-- end layout-container -->
    <script type="module" src="main.js" defer></script>
</body>
</html> 